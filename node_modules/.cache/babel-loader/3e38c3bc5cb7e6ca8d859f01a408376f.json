{"ast":null,"code":"import _classCallCheck from\"D:\\\\Projects\\\\TranslitApp-\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Projects\\\\TranslitApp-\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"D:\\\\Projects\\\\TranslitApp-\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\Projects\\\\TranslitApp-\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"D:\\\\Projects\\\\TranslitApp-\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from\"react\";import\"./TranslitTextBox.css\";var TranslitTextBox=/*#__PURE__*/function(_React$Component){_inherits(TranslitTextBox,_React$Component);function TranslitTextBox(props){var _this;_classCallCheck(this,TranslitTextBox);_this=_possibleConstructorReturn(this,_getPrototypeOf(TranslitTextBox).call(this,props));_this.onTextChanged=function(e){var value=e.target.value;var valueArray=value.split(/\\s+/);var suggestions=[];_this.getSuggestions(valueArray[valueArray.length-1]);_this.setState(function(){return{suggestions:suggestions,text:value};});};_this.setLanguageCookie=function(e){document.cookie=\"&lang=\"+e.target.value;};_this.state={suggestions:[],text:\"\"};return _this;}_createClass(TranslitTextBox,[{key:\"getSuggestions\",value:function getSuggestions(value){var _this2=this;var lang=document.cookie;fetch(\"http://146.148.85.67/processWordJSON?inString=\"+value+lang).then(function(res){return res.json();}).then(function(json){console.log(json.twords[0].options);_this2.setState({suggestions:json.twords[0].options});});}},{key:\"getLanguageCookie\",value:function getLanguageCookie(){var lang=document.cookie.replace(\"&lang=\",\"\");return lang;}},{key:\"suggestionSelected\",value:function suggestionSelected(value){this.result+=value+\" \";var res=this.result.replace(\"undefined\",\"\");// let res;\n// if (document.getElementById(\"textbox\").getAttribute(\"value\") === null) {\n//   res += value;\n// } else {\n//   res += \" \" + value;\n// }\nthis.setState(function(){return{text:res,suggestions:[]};});document.getElementById(\"textbox\").focus();}},{key:\"renderSuggestions\",value:function renderSuggestions(){var _this3=this;var suggestions=this.state.suggestions;if(suggestions.length===0){return null;}return React.createElement(\"ul\",null,suggestions.map(function(item){return React.createElement(\"li\",{onClick:function onClick(){return _this3.suggestionSelected(item);}},item);}));}},{key:\"render\",value:function render(){var text=this.state.text;return React.createElement(\"div\",{className:\"TranslitTextBox\"},React.createElement(\"div\",{className:\"LanguageSelector\"},\"Select a language!\",React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"select\",{defaultValue:this.getLanguageCookie(),onChange:this.setLanguageCookie},React.createElement(\"option\",{value:\"\",selected:true},\"--\"),React.createElement(\"option\",{value:\"tamil\"},\"Tamil\"),React.createElement(\"option\",{value:\"hindi\"},\"Hindi\"),React.createElement(\"option\",{value:\"telugu\"},\"Telugu\"),React.createElement(\"option\",{value:\"bengali\"},\"Bengali\"),React.createElement(\"option\",{value:\"gujarati\"},\"Gujarati\"),React.createElement(\"option\",{value:\"kannada\"},\"Kannada\"),React.createElement(\"option\",{value:\"malayalam\"},\"Malayalam\"),React.createElement(\"option\",{value:\"punjabi\"},\"Punjabi\")),React.createElement(\"br\",null),React.createElement(\"hr\",null)),React.createElement(\"textarea\",{id:\"textbox\",value:text,placeholder:\"Hey there! Enter a word!\",onInput:this.onTextChanged,type:\"text\"}),this.renderSuggestions());}}]);return TranslitTextBox;}(React.Component);export{TranslitTextBox as default};","map":{"version":3,"sources":["D:/Projects/TranslitApp-/src/TranslitTextBox.js"],"names":["React","TranslitTextBox","props","onTextChanged","e","value","target","valueArray","split","suggestions","getSuggestions","length","setState","text","setLanguageCookie","document","cookie","state","lang","fetch","then","res","json","console","log","twords","options","replace","result","getElementById","focus","map","item","suggestionSelected","getLanguageCookie","renderSuggestions","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"./TranslitTextBox.css\";\r\n\r\nexport default class TranslitTextBox extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      suggestions: [],\r\n      text: \"\"\r\n    };\r\n  }\r\n\r\n  getSuggestions(value) {\r\n    var lang = document.cookie;\r\n    fetch(\"http://146.148.85.67/processWordJSON?inString=\" + value + lang)\r\n      .then(res => res.json())\r\n      .then(json => {\r\n        console.log(json.twords[0].options);\r\n        this.setState({\r\n          suggestions: json.twords[0].options\r\n        });\r\n      });\r\n  }\r\n\r\n  onTextChanged = e => {\r\n    const value = e.target.value;\r\n    var valueArray = value.split(/\\s+/);\r\n    let suggestions = [];\r\n    this.getSuggestions(valueArray[valueArray.length - 1]);\r\n    this.setState(() => ({ suggestions, text: value }));\r\n  };\r\n\r\n  setLanguageCookie = e => {\r\n    document.cookie = \"&lang=\" + e.target.value;\r\n  };\r\n\r\n  getLanguageCookie() {\r\n    var lang = document.cookie.replace(\"&lang=\", \"\");\r\n    return lang;\r\n  }\r\n\r\n  suggestionSelected(value) {\r\n    this.result += value + \" \";\r\n    var res = this.result.replace(\"undefined\", \"\");\r\n    // let res;\r\n    // if (document.getElementById(\"textbox\").getAttribute(\"value\") === null) {\r\n    //   res += value;\r\n    // } else {\r\n    //   res += \" \" + value;\r\n    // }\r\n    this.setState(() => ({\r\n      text: res,\r\n      suggestions: []\r\n    }));\r\n    document.getElementById(\"textbox\").focus();\r\n  }\r\n\r\n  renderSuggestions() {\r\n    const { suggestions } = this.state;\r\n    if (suggestions.length === 0) {\r\n      return null;\r\n    }\r\n    return (\r\n      <ul>\r\n        {suggestions.map(item => (\r\n          <li onClick={() => this.suggestionSelected(item)}>{item}</li>\r\n        ))}\r\n      </ul>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { text } = this.state;\r\n    return (\r\n      <div className=\"TranslitTextBox\">\r\n        <div className=\"LanguageSelector\">\r\n          Select a language!\r\n          <br />\r\n          <br />\r\n          <select\r\n            defaultValue={this.getLanguageCookie()}\r\n            onChange={this.setLanguageCookie}\r\n          >\r\n            <option value=\"\" selected>\r\n              --\r\n            </option>\r\n            <option value=\"tamil\">Tamil</option>\r\n            <option value=\"hindi\">Hindi</option>\r\n            <option value=\"telugu\">Telugu</option>\r\n            <option value=\"bengali\">Bengali</option>\r\n            <option value=\"gujarati\">Gujarati</option>\r\n            <option value=\"kannada\">Kannada</option>\r\n            <option value=\"malayalam\">Malayalam</option>\r\n            <option value=\"punjabi\">Punjabi</option>\r\n          </select>\r\n          <br />\r\n          <hr />\r\n        </div>\r\n        <textarea\r\n          id=\"textbox\"\r\n          value={text}\r\n          placeholder=\"Hey there! Enter a word!\"\r\n          onInput={this.onTextChanged}\r\n          type=\"text\"\r\n        />\r\n        {this.renderSuggestions()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}